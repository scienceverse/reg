<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simulating Data for Power • scienceverse</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Simulating Data for Power">
<meta property="og:description" content="scienceverse">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-160147578-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-160147578-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">scienceverse</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9016</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/scienceverse/scienceverse/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="sim_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Simulating Data for Power</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/scienceverse/scienceverse/blob/master/vignettes/sim.Rmd"><code>vignettes/sim.Rmd</code></a></small>
      <div class="hidden name"><code>sim.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/scienceverse/scienceverse">scienceverse</a></span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ************</span>
<span class="co">#&gt; Welcome to scienceverse For support and examples visit:</span>
<span class="co">#&gt; http://scienceverse.github.io/</span>
<span class="co">#&gt; - Get and set global package options with: scienceverse_options()</span>
<span class="co">#&gt; ************</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/debruine/faux">faux</a></span><span class="op">)</span>
<span class="co">#&gt; Registered S3 method overwritten by 'faux':</span>
<span class="co">#&gt;   method            from        </span>
<span class="co">#&gt;   print.nested_list scienceverse</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ************</span>
<span class="co">#&gt; Welcome to faux. For support and examples visit:</span>
<span class="co">#&gt; http://debruine.github.io/faux/</span>
<span class="co">#&gt; - Get and set global package options with: faux_options()</span>
<span class="co">#&gt; ************</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'faux'</span>
<span class="co">#&gt; The following objects are masked from 'package:scienceverse':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     codebook, nested_list</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org">tidyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'dplyr'</span>
<span class="co">#&gt; The following objects are masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter, lag</span>
<span class="co">#&gt; The following objects are masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     intersect, setdiff, setequal, union</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></pre></div>
<p>First, I use the <code><a href="https://rdrr.io/pkg/faux/man/sim_design.html">sim_design()</a></code> function from faux to visualise the design for my proposed study. I’m simulating 30 dog owners with average happiness score of 10 and an average smugness score of 5, and 30 cat owners with an average happiness score of 9 and an average smugness score of 6. Since all have an SD of 2, these are effect sizes of d = 0.5.</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="va">simdat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/faux/man/sim_design.html">sim_design</a></span><span class="op">(</span>
  between <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>pet <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"dog"</span>, <span class="st">"cat"</span><span class="op">)</span><span class="op">)</span>,
  within <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>emotion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"happy"</span>, <span class="st">"smug"</span><span class="op">)</span><span class="op">)</span>,
  n <span class="op">=</span> <span class="fl">30</span>, <span class="co"># in each between-subject cell</span>
  mu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">5</span>, <span class="fl">9</span>, <span class="fl">6</span><span class="op">)</span>,
  sd <span class="op">=</span> <span class="fl">2</span>
<span class="op">)</span></pre></div>
<p><img src="sim_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
<p>I can then use this simulated data to plan my analyses.</p>
<p>I’ll use a one-sided, two-sample t-test against a mu of 0 to test if my hypothesis that dog owners are happier than cat owners is corroborated</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="va">dog_happy</span> <span class="op">&lt;-</span> <span class="va">simdat</span><span class="op">$</span><span class="va">happy</span><span class="op">[</span><span class="va">simdat</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"dog"</span><span class="op">]</span>
<span class="va">cat_happy</span> <span class="op">&lt;-</span> <span class="va">simdat</span><span class="op">$</span><span class="va">happy</span><span class="op">[</span><span class="va">simdat</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"cat"</span><span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span><span class="op">(</span><span class="va">dog_happy</span>, <span class="va">cat_happy</span>, mu <span class="op">=</span> <span class="fl">0</span>, 
       alternative <span class="op">=</span> <span class="st">"greater"</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  Welch Two Sample t-test</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; data:  dog_happy and cat_happy</span>
<span class="co">#&gt; t = 2.4711, df = 53.854, p-value = 0.008333</span>
<span class="co">#&gt; alternative hypothesis: true difference in means is greater than 0</span>
<span class="co">#&gt; 95 percent confidence interval:</span>
<span class="co">#&gt;  0.4669045       Inf</span>
<span class="co">#&gt; sample estimates:</span>
<span class="co">#&gt; mean of x mean of y </span>
<span class="co">#&gt; 10.444280  8.997448</span></pre></div>
<p>I’ll use a one-sided, two-sample t-test against a mu of 0.2 (my smallest effect size of interest; SESOI) to assess falsification of my hypothesis.</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="va">dog_happy</span> <span class="op">&lt;-</span> <span class="va">simdat</span><span class="op">$</span><span class="va">happy</span><span class="op">[</span><span class="va">simdat</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"dog"</span><span class="op">]</span>
<span class="va">cat_happy</span> <span class="op">&lt;-</span> <span class="va">simdat</span><span class="op">$</span><span class="va">happy</span><span class="op">[</span><span class="va">simdat</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"cat"</span><span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span><span class="op">(</span><span class="va">dog_happy</span>, <span class="va">cat_happy</span>, mu <span class="op">=</span> <span class="fl">0.2</span>, 
       alternative <span class="op">=</span> <span class="st">"less"</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  Welch Two Sample t-test</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; data:  dog_happy and cat_happy</span>
<span class="co">#&gt; t = 2.1295, df = 53.854, p-value = 0.9811</span>
<span class="co">#&gt; alternative hypothesis: true difference in means is less than 0.2</span>
<span class="co">#&gt; 95 percent confidence interval:</span>
<span class="co">#&gt;     -Inf 2.42676</span>
<span class="co">#&gt; sample estimates:</span>
<span class="co">#&gt; mean of x mean of y </span>
<span class="co">#&gt; 10.444280  8.997448</span></pre></div>
<p>I’ll use a one-sided, two-sample t-test against a mu of 0 to test if my hypothesis that cat owners are smugger than dog owners is corroborated.</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="va">dog_smug</span> <span class="op">&lt;-</span> <span class="va">simdat</span><span class="op">$</span><span class="va">smug</span><span class="op">[</span><span class="va">simdat</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"dog"</span><span class="op">]</span>
<span class="va">cat_smug</span> <span class="op">&lt;-</span> <span class="va">simdat</span><span class="op">$</span><span class="va">smug</span><span class="op">[</span><span class="va">simdat</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"cat"</span><span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span><span class="op">(</span><span class="va">cat_smug</span>, <span class="va">dog_smug</span>, mu <span class="op">=</span> <span class="fl">0</span>, 
       alternative <span class="op">=</span> <span class="st">"greater"</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  Welch Two Sample t-test</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; data:  cat_smug and dog_smug</span>
<span class="co">#&gt; t = 1.7868, df = 52.936, p-value = 0.03985</span>
<span class="co">#&gt; alternative hypothesis: true difference in means is greater than 0</span>
<span class="co">#&gt; 95 percent confidence interval:</span>
<span class="co">#&gt;  0.06651642        Inf</span>
<span class="co">#&gt; sample estimates:</span>
<span class="co">#&gt; mean of x mean of y </span>
<span class="co">#&gt;  6.035758  4.980895</span></pre></div>
<p>I’ll use a one-sided, two-sample t-test against a mu of 0.2 (my smallest effect size of interest; SESOI) to assess falsification of my hypothesis.</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="va">dog_smug</span> <span class="op">&lt;-</span> <span class="va">simdat</span><span class="op">$</span><span class="va">smug</span><span class="op">[</span><span class="va">simdat</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"dog"</span><span class="op">]</span>
<span class="va">cat_smug</span> <span class="op">&lt;-</span> <span class="va">simdat</span><span class="op">$</span><span class="va">smug</span><span class="op">[</span><span class="va">simdat</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"cat"</span><span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span><span class="op">(</span><span class="va">cat_smug</span>, <span class="va">dog_smug</span>, mu <span class="op">=</span> <span class="fl">0.2</span>, 
       alternative <span class="op">=</span> <span class="st">"less"</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  Welch Two Sample t-test</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; data:  cat_smug and dog_smug</span>
<span class="co">#&gt; t = 1.448, df = 52.936, p-value = 0.9232</span>
<span class="co">#&gt; alternative hypothesis: true difference in means is less than 0.2</span>
<span class="co">#&gt; 95 percent confidence interval:</span>
<span class="co">#&gt;      -Inf 2.043209</span>
<span class="co">#&gt; sample estimates:</span>
<span class="co">#&gt; mean of x mean of y </span>
<span class="co">#&gt;  6.035758  4.980895</span></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="va">study</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/study.html">study</a></span><span class="op">(</span><span class="st">"Simple Simulation Demo"</span><span class="op">)</span>  <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_hypothesis.html">add_hypothesis</a></span><span class="op">(</span><span class="st">"Happy"</span>, <span class="st">"Dog owners will be happier than cat owners."</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_analysis.html">add_analysis</a></span><span class="op">(</span><span class="st">"A1"</span>, <span class="op">{</span>
    <span class="va">dog_happy</span> <span class="op">&lt;-</span> <span class="va">pet_data</span><span class="op">$</span><span class="va">happy</span><span class="op">[</span><span class="va">pet_data</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"dog"</span><span class="op">]</span>
    <span class="va">cat_happy</span> <span class="op">&lt;-</span> <span class="va">pet_data</span><span class="op">$</span><span class="va">happy</span><span class="op">[</span><span class="va">pet_data</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"cat"</span><span class="op">]</span>
    <span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span><span class="op">(</span><span class="va">dog_happy</span>, <span class="va">cat_happy</span>, mu <span class="op">=</span> <span class="fl">0</span>, alternative <span class="op">=</span> <span class="st">"greater"</span><span class="op">)</span>
  <span class="op">}</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_criterion.html">add_criterion</a></span><span class="op">(</span><span class="st">"happy_c"</span>, <span class="st">"p.value"</span>, <span class="st">"&lt;"</span>, <span class="fl">0.05</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_analysis.html">add_analysis</a></span><span class="op">(</span><span class="st">"A2"</span>, <span class="op">{</span>
    <span class="va">dog_happy</span> <span class="op">&lt;-</span> <span class="va">pet_data</span><span class="op">$</span><span class="va">happy</span><span class="op">[</span><span class="va">pet_data</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"dog"</span><span class="op">]</span>
    <span class="va">cat_happy</span> <span class="op">&lt;-</span> <span class="va">pet_data</span><span class="op">$</span><span class="va">happy</span><span class="op">[</span><span class="va">pet_data</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"cat"</span><span class="op">]</span>
    <span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span><span class="op">(</span><span class="va">dog_happy</span>, <span class="va">cat_happy</span>, mu <span class="op">=</span> <span class="fl">0.2</span>, alternative <span class="op">=</span> <span class="st">"less"</span><span class="op">)</span>
  <span class="op">}</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_criterion.html">add_criterion</a></span><span class="op">(</span><span class="st">"happy_f"</span>, <span class="st">"p.value"</span>, <span class="st">"&lt;"</span>, <span class="fl">0.05</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_eval.html">add_eval</a></span><span class="op">(</span><span class="st">"corroboration"</span>, <span class="st">"happy_c"</span>, <span class="st">"The hypothesis will be corroborated if dog owners are significantly happier than cat owners."</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_eval.html">add_eval</a></span><span class="op">(</span><span class="st">"falsification"</span>, <span class="st">"happy_f"</span>, <span class="st">"The hypothesis will be falsified if dog owners are significantly less than 0.2 units happier than cat owners."</span><span class="op">)</span></pre></div>
<p>Add a second hypothesis, with all associated analyses, criteria, and evaluation rules.</p>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="va">study</span> <span class="op">&lt;-</span> <span class="va">study</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_hypothesis.html">add_hypothesis</a></span><span class="op">(</span><span class="st">"Smug"</span>, <span class="st">"Cat owners will be smugger than dog owners."</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_analysis.html">add_analysis</a></span><span class="op">(</span><span class="st">"A3"</span>, <span class="op">{</span>
    <span class="va">dog_smug</span> <span class="op">&lt;-</span> <span class="va">pet_data</span><span class="op">$</span><span class="va">smug</span><span class="op">[</span><span class="va">pet_data</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"dog"</span><span class="op">]</span>
    <span class="va">cat_smug</span> <span class="op">&lt;-</span> <span class="va">pet_data</span><span class="op">$</span><span class="va">smug</span><span class="op">[</span><span class="va">pet_data</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"cat"</span><span class="op">]</span>
    <span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span><span class="op">(</span><span class="va">cat_smug</span>, <span class="va">dog_smug</span>, mu <span class="op">=</span> <span class="fl">0</span>, alternative <span class="op">=</span> <span class="st">"greater"</span><span class="op">)</span>
  <span class="op">}</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_criterion.html">add_criterion</a></span><span class="op">(</span><span class="st">"smug_c"</span>, <span class="st">"p.value"</span>, <span class="st">"&lt;"</span>, <span class="fl">0.05</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_analysis.html">add_analysis</a></span><span class="op">(</span><span class="st">"A4"</span>, <span class="op">{</span>
    <span class="va">dog_smug</span> <span class="op">&lt;-</span> <span class="va">pet_data</span><span class="op">$</span><span class="va">smug</span><span class="op">[</span><span class="va">pet_data</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"dog"</span><span class="op">]</span>
    <span class="va">cat_smug</span> <span class="op">&lt;-</span> <span class="va">pet_data</span><span class="op">$</span><span class="va">smug</span><span class="op">[</span><span class="va">pet_data</span><span class="op">$</span><span class="va">pet</span> <span class="op">==</span> <span class="st">"cat"</span><span class="op">]</span>
    <span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span><span class="op">(</span><span class="va">cat_smug</span>, <span class="va">dog_smug</span>, mu <span class="op">=</span> <span class="fl">0.2</span>, alternative <span class="op">=</span> <span class="st">"less"</span><span class="op">)</span>
  <span class="op">}</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_criterion.html">add_criterion</a></span><span class="op">(</span><span class="st">"smug_f"</span>, <span class="st">"p.value"</span>, <span class="st">"&lt;"</span>, <span class="fl">0.05</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_eval.html">add_eval</a></span><span class="op">(</span><span class="st">"corroboration"</span>, <span class="st">"smug_c"</span>, <span class="st">"The hypothesis will be corroborated if cat owners are significantly smugger than dog owners."</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_eval.html">add_eval</a></span><span class="op">(</span><span class="st">"falsification"</span>, <span class="st">"smug_f"</span>, <span class="st">"The hypothesis will be falsified if cat owners are significantly less than 0.2 units smugger than dog owners."</span><span class="op">)</span></pre></div>
<p>Now we can simulate a dataset. Make sure to give it the same <code>data_id</code> that you used to reference it in the analysis.</p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="va">simstudy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_sim_data.html">add_sim_data</a></span><span class="op">(</span>
  <span class="va">study</span>,
  data_id <span class="op">=</span> <span class="st">"pet_data"</span>,
  between <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>pet <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"dog"</span>, <span class="st">"cat"</span><span class="op">)</span><span class="op">)</span>,
  within <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>emotion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"happy"</span>, <span class="st">"smug"</span><span class="op">)</span><span class="op">)</span>,
  n <span class="op">=</span> <span class="fl">30</span>, <span class="co"># in each between-subject cell</span>
  mu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">5</span>, <span class="fl">9</span>, <span class="fl">6</span><span class="op">)</span>,
  sd <span class="op">=</span> <span class="fl">2</span>
<span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/study_analyse.html">study_analyse</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; id set to dataType string</span>
<span class="co">#&gt; pet set to dataType string</span>
<span class="co">#&gt; happy set to dataType float</span>
<span class="co">#&gt; smug set to dataType float</span>
<span class="co">#&gt; Hypothesis Happy: Dog owners will be happier than cat owners.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Criterion happy_c:</span>
<span class="co">#&gt; * p.value &lt; 0.05 is FALSE</span>
<span class="co">#&gt; * p.value = 0.131</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Criterion happy_f:</span>
<span class="co">#&gt; * p.value &lt; 0.05 is FALSE</span>
<span class="co">#&gt; * p.value = 0.774</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Conclusion: inconclusive</span>
<span class="co">#&gt; * Corroborate (happy_c): FALSE</span>
<span class="co">#&gt; * Falsify (happy_f): FALSE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Hypothesis Smug: Cat owners will be smugger than dog owners.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Criterion smug_c:</span>
<span class="co">#&gt; * p.value &lt; 0.05 is FALSE</span>
<span class="co">#&gt; * p.value = 0.201</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Criterion smug_f:</span>
<span class="co">#&gt; * p.value &lt; 0.05 is FALSE</span>
<span class="co">#&gt; * p.value = 0.687</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Conclusion: inconclusive</span>
<span class="co">#&gt; * Corroborate (smug_c): FALSE</span>
<span class="co">#&gt; * Falsify (smug_f): FALSE</span></pre></div>
<p>You can also increase the number of replications in the simulation to calculate the power of your study. This is especially helpful for studies with complex analyses or evaluation criteria.</p>
<div class="sourceCode" id="cb10"><pre class="downlit">
<span class="va">simstudy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_sim_data.html">add_sim_data</a></span><span class="op">(</span>
  <span class="va">study</span>,
  data_id <span class="op">=</span> <span class="st">"pet_data"</span>,
  between <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>pet <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"dog"</span>, <span class="st">"cat"</span><span class="op">)</span><span class="op">)</span>,
  within <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>emotion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"happy"</span>, <span class="st">"smug"</span><span class="op">)</span><span class="op">)</span>,
  n <span class="op">=</span> <span class="fl">30</span>, <span class="co"># in each between-subject cell</span>
  mu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">5</span>, <span class="fl">9</span>, <span class="fl">6</span><span class="op">)</span>,
  sd <span class="op">=</span> <span class="fl">2</span>,
  rep <span class="op">=</span> <span class="fl">1000</span>
<span class="op">)</span>
<span class="co">#&gt; id set to dataType string</span>
<span class="co">#&gt; pet set to dataType string</span>
<span class="co">#&gt; happy set to dataType float</span>
<span class="co">#&gt; smug set to dataType float</span></pre></div>
<p>Use the <code>study_power</code> function to run the analyses on each simulated dataset and return the percent of datasets that lead to each possible conclusion for each hypothesis.</p>
<div class="sourceCode" id="cb11"><pre class="downlit">
<span class="va">simstudy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/study_power.html">study_power</a></span><span class="op">(</span><span class="va">simstudy</span><span class="op">)</span>
<span class="co">#&gt; Hypothesis Happy</span>
<span class="co">#&gt;       corroboration: 65.0%</span>
<span class="co">#&gt;       falsification: 0.0%</span>
<span class="co">#&gt;       inconclusive:  35.0%</span>
<span class="co">#&gt; Hypothesis Smug</span>
<span class="co">#&gt;       corroboration: 63.0%</span>
<span class="co">#&gt;       falsification: 0.0%</span>
<span class="co">#&gt;       inconclusive:  37.0%</span></pre></div>
<p>Use the <code>get_power</code> function to get the results in a list format. Set <code>values</code> to <code>TRUE</code> to get the individual values for the criteria.</p>
<div class="sourceCode" id="cb12"><pre class="downlit">
<span class="va">power</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_power.html">get_power</a></span><span class="op">(</span><span class="va">simstudy</span>, values <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="va">happy_c</span> <span class="op">&lt;-</span> <span class="va">power</span><span class="op">$</span><span class="va">Happy</span><span class="op">$</span><span class="va">criteria</span><span class="op">$</span><span class="va">happy_c</span>
<span class="va">smug_c</span> <span class="op">&lt;-</span> <span class="va">power</span><span class="op">$</span><span class="va">Smug</span><span class="op">$</span><span class="va">criteria</span><span class="op">$</span><span class="va">smug_c</span></pre></div>
<p><img src="sim_files/figure-html/unnamed-chunk-13-1.png" width="100%"></p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Lisa DeBruine, Daniel Lakens.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
